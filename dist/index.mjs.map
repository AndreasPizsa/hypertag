{"version":3,"file":"index.mjs","sources":["../get-html-tags.js"],"sourcesContent":["const attrPattern = /(\\w+)\\s*(:?=\\s*((?:(['\"])(.*?)\\4)|(?:[^\\s>]+)))?/ms\n\nmodule.exports = getTags\nObject.assign(module.exports, {\n  getTags,\n  parseAttrs,\n  stripComments,\n  extend\n})\n\nfunction extend(tags, options) {\n  options = {...options}\n  return source => getTags(source, tags, options)\n}\n\nfunction getTags(source, tags, options) {\n  tags = Array.isArray(tags) ? tags : [tags]\n  options = {\n    tagKey: '<',\n    ...options\n  }\n\n  const pattern = new RegExp(`<(?:${tags.join('|')})(?:\\\\s+(.*?))?>`, 'igms')\n  return (stripComments(source).match(pattern) || [])\n    .map(tag => parseAttrs(tag, options.tagKey))\n    .filter(x => x)\n}\n\nfunction parseAttrs(htmlTagText, tagKey = '<') {\n  const attrs = {}\n\n  const matchPattern = new RegExp(attrPattern, 'gims')\n  let match = matchPattern.exec(htmlTagText)\n  if (!match) {\n    return\n  }\n  attrs[tagKey] = match[1]\n\n  while ((match = matchPattern.exec(htmlTagText)) !== null) {\n    const key = match[1]\n    attrs[key]\n      = (match[5] !== null && match[5]) || (match[3] !== null && match[3]) || true\n  }\n  return attrs\n}\n\nfunction stripComments(html) {\n  return html.replace(/<!--(?:[\\s]|.)*?-->/gim, '')\n}\n"],"names":["const","attrPattern","getTags","source","tags","options","Array","isArray","Object","tagKey","pattern","RegExp","join","stripComments","match","map","tag","parseAttrs","filter","x","htmlTagText","attrs","matchPattern","exec","html","replace","module","exports","assign"],"mappings":"AAAAA,IAAMC,EAAc,qDAepB,SAASC,EAAQC,EAAQC,EAAMC,GAC7BD,EAAOE,MAAMC,QAAQH,GAAQA,EAAO,CAACA,GACrCC,EAAUG,kBACRC,OAAQ,YAIJC,EAAU,IAAIC,cAAcP,EAAKQ,KAAK,wBAAwB,eAC5DC,EAAcV,GAAQW,MAAMJ,IAAY,IAC7CK,aAAIC,UAAOC,EAAWD,EAAKX,EAAQI,UACnCS,gBAAOC,UAAKA,IAGjB,SAASF,EAAWG,EAAaX,kBAAS,SAClCY,EAAQ,GAERC,EAAe,IAAIX,OAAOV,EAAa,QACzCa,EAAQQ,EAAaC,KAAKH,MACzBN,OAGLO,EAAMZ,GAAUK,EAAM,GAE8B,QAA5CA,EAAQQ,EAAaC,KAAKH,KAAwB,CAExDC,EADYP,EAAM,IAEA,OAAbA,EAAM,IAAeA,EAAM,IAAqB,OAAbA,EAAM,IAAeA,EAAM,KAAO,SAErEO,GAGT,SAASR,EAAcW,UACdA,EAAKC,QAAQ,yBAA0B,IA7ChDC,OAAOC,QAAUzB,EACjBM,OAAOoB,OAAOF,OAAOC,QAAS,SAC5BzB,aACAe,gBACAJ,SAIF,SAAgBT,EAAMC,UACpBA,EAAUG,iBAAIH,YACPF,UAAUD,EAAQC,EAAQC,EAAMC"}